{% extends "base.html" %}
{% block title %}
    編集ボタンありプロフィール
{% endblock %}

{% block content %}
<!-- <link rel="stylesheet" href="{{ url_for('static', filename='css/editProfile.css') }}"> -->

<link rel="stylesheet" href="../../static/css/editProfile.css">
    <main class="editProfile_main">
        <h1></h1>
        <div class="profile-header">
            <img src="{{url_for('static' , filename='image_path')}}" alt="プロフィール画像" class="profile-image">
            <div class="profile-info">
                <h1 class="profile-name">{{user_info.username}}</h1>
                
                <div class="profile-rating">
                    <span class="stars">
                    {% for i in range(evaluation)%}★{% endfor %}
                    {% for i in range(5-evaluation)%}☆{% endfor %}</span>
                    <span class="rating-count">{{evaluationCount}}</span>
                    {% if user_info.smoker == 0%}
                        <span class="reviewer-badge">喫煙者</span>
                    {% else %}
                        <span class="reviewer-badge">非喫煙者</span>
                    {% endif %} 
                </div>
                
                <div class="profile-stats">
                    <div class="stat-item">
                        <span class="stat-number">{{products}}</span>
                        <span class="stat-label">出品数</span>
                    </div>
                    <div class="stat-item">
                        <span class="stat-number">{{follows}}</span>
                        <span class="stat-label">フォロー</span>
                    </div>
                    <div class="stat-item">
                        <span class="stat-number">{{followers}}</span>
                        <span class="stat-label">フォロワー</span>
                    </div>
                </div>
                
                <div class="profile-description" id="profileDescription">
                    {{user_info.introduction}}
                    <!-- 何文字以上でを作る -->
                    <span id="moreText" style="display: none;">
                        <br><br>
                        【取引について】<br>
                        ・購入時すぐに気持ちメッセージをお願いいたします。<br>
                        ・発送時期は平日夕方となっています。基本即日発送はできません。プロフィルをしっかりと読んでいただくと判断した場合ものよっては取引を解除させていただきますので、安心して取引できない相手と判断し、評価は「悪い」にさせていただきます。
                    </span>
                </div>
                
                <a href="#" class="show-more" id="showMoreBtn" onclick="toggleDescription(event)">もっと見る</a>
                <a href="#" class="show-more" id="showLessBtn" onclick="toggleDescription(event)" style="display: none;">閉じる</a>
            </div>
            
           <div class="profile-actions" ><a href="{{url_for('mypage.edit')}}">
                <button class="edit-profile-btn">プロフィールを編集</button>
            </div>
            </a>
        </div>

        <!-- 商品グリッド -->

        <div class="products-grid">
            {% for name in productName %}
            <div class="product-card">
                <img src="{{productImg[loop.index0]['img']}}" alt="スカート" class="product-image">
                <div class="product-name">{{name}}</div>
            </div>
            {% endfor %}
        </div>

        <!-- もっと見るボタン -->
        <div class="load-more">
            <button class="load-more-btn">もっと見る</button>
        </div>
    </main>


    <script src="../../static/js/editProfile.js"></script>
{% endblock %} 